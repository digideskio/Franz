<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Franz
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Kafka client for .NET"/>
    <meta name="author" content="mvno"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/Franz/content/style.css" />
    <script type="text/javascript" src="/Franz/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/mvno/Franz">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/Franz/index.html">Franz</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Franz" class="anchor" href="#Franz">Franz</a></h1>
<div class="row">
  <div class="span1"></div>
  <div class="span6">
    <div class="well well-small" id="nuget">
      The Franz library can be <a href="https://nuget.org/packages/Franz">installed from NuGet</a>:
      <pre>PM> Install-Package Franz</pre>
    </div>
  </div>
  <div class="span1"></div>
</div>
<h2><a name="Documentation" class="anchor" href="#Documentation">Documentation</a></h2>
<p>Franz is a .NET client for Kafka implemented in F#. It supports Kafka version 0.8.2.1 and below. At the moment the client is synchronous, as this makes it easier to debug and determine if problems are related to network of client issues.
In the future it may support asynchronous sending and receiving, but in the uses cases we need at the moment, it doesn't affect performance that much.</p>
<h2><a name="Example" class="anchor" href="#Example">Example</a></h2>
<p>Producer:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp"><span class="k">using</span> Franz.Highlevel

<span class="c">// Key is allowed to be null</span>
<span class="k">var</span> message <span class="o">=</span> <span class="k">new</span> Message(<span class="s">"testValue"</span>, <span class="s">"testKey"</span>);

<span class="k">var</span> roundRobinProducer <span class="o">=</span> <span class="k">new</span> RoundRobinProducer(<span class="k">new</span>[] { <span class="k">new</span> EndPoint(<span class="s">"localhost"</span>, <span class="n">9092</span>) });
roundRobinProducer.SendMessage(<span class="s">"testTopic"</span>, message);

<span class="c">// This producer allows you to control which partition messages and sent to</span>
<span class="k">var</span> producer <span class="o">=</span> <span class="k">new</span> Producer(<span class="k">new</span>[] { <span class="k">new</span> EndPoint(<span class="s">"localhost"</span>, <span class="n">9092</span>) }, (topic, key) <span class="o">=</span><span class="o">&gt;</span> <span class="n">1</span>);
producer.SendMessage(<span class="s">"testTopic"</span>, message);
</code></pre></td></tr></table>
<p>Consumer:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="csharp"><span class="k">using</span> Franz.Highlevel

<span class="k">var</span> cts <span class="o">=</span> <span class="k">new</span> CancellationTokenSource();
<span class="k">var</span> token <span class="o">=</span> cts.Token;
<span class="k">var</span> endPoints <span class="o">=</span> <span class="k">new</span>[] { <span class="k">new</span> EndPoint(<span class="s">"localhost"</span>, <span class="n">9092</span>), <span class="k">new</span> EndPoint(<span class="s">"localhost"</span>, <span class="n">9093</span>) };

<span class="k">var</span> consumer <span class="o">=</span> <span class="k">new</span> Consumer(endPoints, <span class="s">"testTopic"</span>)
<span class="k">foreach</span> (<span class="k">var</span> message <span class="o">=</span> consumer.Consume())
{
  <span class="c">/// Process message</span>
}

<span class="c">// Chunked consumers uses much less memory, but receives messages slower, and isn't as easy to use</span>
<span class="k">var</span> chunkedConsumer <span class="o">=</span> <span class="k">new</span> ChunkedConsumer(endPoints, <span class="s">"testTopic"</span>);
<span class="k">while</span>(<span class="k">true</span>)
{
  <span class="k">foreach</span> (<span class="k">var</span> message <span class="k">in</span> chunkedConsumer.Consume(token))
  {
    <span class="c">// Handle message</span>
  }
}
</code></pre></td></tr></table>
<h2><a name="Samples-amp-documentation" class="anchor" href="#Samples-amp-documentation">Samples &amp; documentation</a></h2>
<p>The library comes with comprehensible documentation.</p>
<ul>
<li>
<a href="reference/index.html">API Reference</a> contains automatically generated documentation for all types, modules
and functions in the library.
</li>
</ul>
<h2><a name="Contributing-and-copyright" class="anchor" href="#Contributing-and-copyright">Contributing and copyright</a></h2>
<p>The project is hosted on <a href="https://github.com/mvno/Franz">GitHub</a> where you can <a href="https://github.com/mvno/Franz/issues">report issues</a>, fork
the project and submit pull requests. If you're adding a new public API, please also
consider adding <a href="https://github.com/mvno/Franz/tree/master/docs/content">samples</a> that can be turned into a documentation. You might
also want to read the <a href="https://github.com/mvno/Franz/blob/master/README.md">library design notes</a> to understand how it works.</p>


        </div>
        <div class="span3">
          <img src="/Franz/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Franz</li>
            <li><a href="/Franz/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/Franz">Get Library via NuGet</a></li>
            <li><a href="http://github.com/mvno/Franz">Source Code on GitHub</a></li>
            <li><a href="/Franz/license.html">License</a></li>
            <li><a href="/Franz/release-notes.html">Release Notes</a></li>
            
            <!--<li class="nav-header">Getting started</li>
            <li><a href="/Franz/tutorial.html">Sample tutorial</a></li>-->

            <li class="nav-header">Documentation</li>
            <li><a href="/Franz/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/mvno/Franz"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
